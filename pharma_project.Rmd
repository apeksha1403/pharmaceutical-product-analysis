---
title: "Indian Pharmaceutical Product Analysis"
author: "Apeksha"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_depth: 2
    theme: flatly
    df_print: paged
---

### Project Summary

This project analyzes a dataset of Indian pharmaceutical products.  
We perform data cleaning, summarize product categories, and create visualizations for price trends and therapeutic classes.  
The report is generated using R, tidyverse, and ggplot2.

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(lubridate)
library(scales)
library(ggplot2)
```
üìÇ Data Source
The dataset used in this analysis is titled ‚ÄúIndian Pharmaceutical Products‚Äù[link](https://www.kaggle.com/datasets/rishgeeky/indian-pharmaceutical-products), obtained from Kaggle and cleaned before analysis. The file used is:
indian_pharmaceutical_products_clean.csv


### üßπ Data Cleaning, Preprocessing and visualization 
```{r}

# Load data
pharma_data <- read_csv("E:/indian_pharmaceutical_products_clean.csv", show_col_types = FALSE)

# Remove duplicate rows
pharma_data <- pharma_data %>% distinct()

# Check for missing values
colSums(is.na(pharma_data))

# Convert to lowercase for consistency
pharma_data <- pharma_data %>%
  mutate(
    therapeutic_class = str_to_lower(therapeutic_class),
    dosage_form = str_to_lower(dosage_form)
  )

# Preview cleaned data
head(pharma_data)

#Top 10 Most Expensive Products

top_products <- pharma_data %>%
  arrange(desc(price_inr)) %>%
  slice_head(n = 10)

ggplot(top_products, aes(x = reorder(brand_name, price_inr), y = price_inr)) +
  geom_col(fill = "steelblue") +
  coord_flip() +
  labs(title = "Top 10 Most Expensive Products", x = "Brand Name", y = "Price (INR)") +
  scale_y_continuous(labels = comma)


# üìã Table: Top 10 Most Expensive Products
library(knitr)

top_products %>%
  select(brand_name, manufacturer, price_inr) %>%
  rename(
    `Brand Name` = brand_name,
    `Manufacturer` = manufacturer,
    `Price (INR)` = price_inr
  ) %>%
  kable(caption = "Table: Top 10 Most Expensive Indian Pharmaceutical Products")



#Top 10 Therapeutic Classes by Average Price
top_classes <- pharma_data %>%
  count(therapeutic_class, sort = TRUE) %>%
  slice_head(n = 10)

ggplot(top_classes, aes(x = reorder(therapeutic_class, n), y = n)) +
  geom_col(fill = "#E64B35FF") +
  coord_flip() +
  labs(
    title = "Top 10 Therapeutic Classes by Product Count",
    x = "Therapeutic Class",
    y = "Number of Products"
  ) +
  scale_y_continuous(labels = comma) +
  theme_minimal()

top_mfr <- pharma_data %>%
  count(manufacturer, sort = TRUE) %>%
  slice_head(n = 5) %>%
  mutate(percent = round(n / sum(n) * 100, 1),
         label = paste0(manufacturer, " (", percent, "%)"))

ggplot(top_mfr, aes(x = "", y = n, fill = label)) +
  geom_col(width = 1) +
  coord_polar(theta = "y") +
  labs(
    title = "Top 5 Manufacturers by Product Count",
    x = NULL, y = NULL
  ) +
  theme_void() +
  theme(legend.title = element_blank()) +
  scale_fill_brewer(palette = "Pastel1")



# üìà Price Trend for Allegra Variants (Simulated)

allegra_data <- pharma_data %>%
  filter(str_detect(tolower(brand_name), "allegra")) %>%
  arrange(desc(price_inr)) %>%
  mutate(batch = row_number())

ggplot(allegra_data, aes(x = batch, y = price_inr)) +
  geom_line(linewidth = 1.2, color = "#3C5488FF") +  # ‚úÖ Use linewidth instead of size
  geom_point(size = 2, color = "#3C5488FF") +
  labs(
    title = "Price Trend for Allegra Variants (Simulated Batches)",
    x = "Batch Number",
    y = "Price (INR)"
  ) +
  theme_minimal()


#Price Distribution by Dosage Form
# Filter out extreme price outliers for better visualization
filtered_data <- pharma_data %>%
  filter(price_inr < quantile(price_inr, 0.99, na.rm = TRUE))  # exclude top 1% prices

# Plot boxplot
# Filter out extreme price outliers for better visualization
filtered_data <- pharma_data %>%
  filter(price_inr < quantile(price_inr, 0.99, na.rm = TRUE))  # exclude top 1% prices

# Plot boxplot with light pastel color
ggplot(filtered_data, aes(x = dosage_form, y = price_inr)) +
  geom_boxplot(fill = "#FFE5B4", color = "gray30", outlier.color = "#E74C3C") +
  coord_flip() +
  labs(
    title = "Price Distribution by Dosage Form",
    x = "Dosage Form",
    y = "Price (INR)"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold"),
    axis.text = element_text(size = 10)
  )

#Correlation Dot Plot
```{r message=FALSE, warning=FALSE}
library(ggplot2)
library(reshape2)

# Select numeric columns
numeric_cols <- pharma_data %>%
  select(where(is.numeric))

# Compute correlation matrix
cor_matrix <- cor(numeric_cols, use = "complete.obs")

# Melt the matrix
cor_melted <- melt(cor_matrix)

# Plot dot plot
ggplot(cor_melted, aes(x = Var1, y = Var2, color = value, size = abs(value))) +
  geom_point() +
  scale_color_gradient2(
    low = "#E74C3C", mid = "white", high = "#2ECC71", 
    midpoint = 0, limits = c(-1, 1), name = "Correlation"
  ) +
  scale_size_continuous(range = c(1, 6)) +  # Smaller dot size range
  labs(
    title = "Correlation Dot Plot (Numeric Columns)",
    x = NULL, y = NULL
  ) +
  theme_minimal(base_size = 10) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    legend.position = "right"
  )
# Check for missing values
colSums(is.na(pharma_data))


```


### ‚úÖ Conclusion
This exploratory data analysis gave us insights into:

- The most expensive pharmaceutical products

- Common dosage forms and therapeutic classes

- Key manufacturers in the Indian pharma market


### üöÄ Future Scope

- Analyze price trends over time if timestamp data becomes available.
- Study regional sales data (if available) to compare market demand.
- Perform sentiment analysis on medicine reviews (if collected).
- Apply clustering or classification to group similar medicines.

---

üë©‚Äçüíª Author Information

**Name**: Apeksha Khochare  
**Email**: [apekshakhochare143@gmail.com](mailto:apekshakhochare143@gmail.com)  
**LinkedIn**: [www.linkedin.com/in/apeksha-khochare-0341a1215](https://www.linkedin.com/in/apeksha-khochare-0341a1215)
